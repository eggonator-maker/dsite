/* scss/components/_appointment-form.scss */

// --- Section Styling ---
.appointment-form-section {
    position: relative;
    padding: rem(32) 0;
    min-height: 800px;
    display: flex;
    align-items: center;
    justify-content: center;
  
    // Background image
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('../images/contact_background.png');
      background-size: cover;
      background-position: center;
      z-index: 1;
    }
    
    // 45% black overlay
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #000;
      opacity: 0.45;
      z-index: 2;
    }
  }
  
  // --- Form Container ---
  .appointment-form__container {
    position: relative;
    z-index: 3;
    background-color: $white;
    border: 1px solid #e2e8f0; // Neutral/Gray 200
    border-radius: rem(8);
    padding: rem(32);
    max-width: rem(748);
    width: 90%;
    margin: 0 auto;
    box-shadow: 0 rem(4) rem(6) rem(-1) rgba(0, 0, 0, 0.05); // shadow-md
  
    @media (max-width: 768px) {
      padding: rem(24);
      max-width: 100%;
      width: 95%;
    }
  }
  
  // --- Title ---
  .appointment-form__title {
    font-weight: 700;
    font-size: rem(28);
    line-height: rem(34);
    letter-spacing: rem(-0.56);
    color: #0e296b; // Primary blue from design
    margin-bottom: rem(16);
    text-align: left;
  
    @media (max-width: 768px) {
      font-size: rem(24);
      line-height: rem(30);
    }
  }
  
  // --- Main Form ---
  .appointment-form {
    display: flex;
    flex-direction: column;
    gap: rem(24);
  
    @media (max-width: 768px) {
      gap: rem(16);
    }
  }
  
  // --- Form Row (for side-by-side fields) ---
  .form-row {
    display: flex;
    gap: rem(16);
    width: 100%;
  
    @media (max-width: 768px) {
      flex-direction: column;
      gap: rem(16);
    }
  }
  
  // --- FLOATING/NOTCHED LABEL GROUP ---
  .form-floating-group {
    position: relative;
    flex: 1;
  
    // Regular input height
    &:not(.form-floating-group--textarea) {
      height: rem(62);
    }
  
    .form-label {
      position: absolute;
      top: 0;
      left: rem(12);
      transform: translateY(0);
      color: #0f172a; // Neutral/Gray text
      background-color: $white;
      padding: 0 rem(8);
      font-size: rem(14);
      line-height: rem(17);
      font-weight: 400;
      transition: all 0.2s ease-in-out;
      pointer-events: none;
      z-index: 1;
  
      .required {
        color: #e22a1f; // Red for required asterisk
      }
    }
  
    .form-control {
      width: 100%;
      height: rem(52);
      margin-top: rem(10);
      background-color: $white;
      border: 1px solid #cbd5e1; // Neutral / Gray 300
      border-radius: rem(4);
      padding: 0 rem(15);
      font-size: rem(16);
      line-height: rem(24);
      font-weight: 400;
      color: #0f172a;
      transition: border-color 0.2s ease-in-out;
  
      &::placeholder {
        color: #94a3b8; // Neutral / Gray 400
        opacity: 0;
      }
  
      // Show placeholder when empty and not focused
      &:not(:focus):placeholder-shown {
        &::placeholder {
          opacity: 1;
        }
      }
  
      &:focus {
        outline: none;
        border-color: #0e296b; // Primary blue
        
        + .form-label {
          color: #0e296b;
        }
      }
  
      // When field has value, keep label at top
      &:not(:placeholder-shown) {
        + .form-label {
          color: #0f172a;
        }
      }
    }
  
    // Textarea specific styles
    &--textarea {
      height: auto;
  
      .form-control--textarea {
        height: rem(137);
        margin-top: rem(10);
        padding: rem(14) rem(15);
        resize: vertical;
        min-height: rem(137);
      }
    }
  }
  
  // --- Custom Select Styles ---
  .custom-select-wrapper {
    .form-label {
      // Label is always at the top for selects
      top: 0;
      color: #0f172a;
    }
  
    .custom-select {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      padding-right: rem(40);
      cursor: pointer;
      
      // Gray placeholder color when nothing is selected
      &:invalid,
      &[value=""] {
        color: #94a3b8; // Neutral / Gray 400
      }
      
      // Dark text when a valid option is selected
      &:valid:not([value=""]) {
        color: #0f172a;
      }
  
      // Placeholder option styling
      option[value=""][disabled] {
        color: #94a3b8;
      }

      option[disabled] {
        color: #94a3b8;
      }
  
      option:not([disabled]) {
        color: #0f172a;
      }
  
      &:focus {
        + .form-label {
          color: #0e296b;
        }
      }
    }
    /*
    .custom-select-icon {
      position: absolute;
      z-index: 2;
      top: 50%;
      transform: translateY(-50%);
      right: rem(15);
      margin-top: rem(5); // Adjust for the label space
      color: #0f172a;
      pointer-events: none;
    } */
  }
  
  // --- Checkbox Styles ---
  .form-check {
    display: flex;
    align-items: flex-start;
    gap: rem(8);
  
    .form-check-input {
      flex-shrink: 0;
      width: rem(20);
      height: rem(20);
      margin-top: rem(2);
      border: 2px solid #94a3b8; // Neutral / Gray 400
      border-radius: rem(4);
      cursor: pointer;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background-color: $white;
      transition: all 0.2s ease-in-out;
  
      &:checked {
        background-color: #0e296b;
        border-color: #0e296b;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='white' stroke-width='2' d='M3 8l3 3 7-7'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: center;
        background-size: 12px;
      }
  
      &:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(14, 41, 107, 0.1);
      }
    }
  
    .form-check-label {
      flex: 1;
      font-size: rem(14);
      line-height: rem(17);
      font-weight: 400;
      color: #0f172a;
      cursor: pointer;
  
      a {
        color: #0f172a;
        text-decoration: underline;
        text-underline-position: from-font;
  
        &:hover {
          color: #0e296b;
        }
      }
  
      .required {
        color: #e22a1f;
      }
    }
  }
  
  // --- Submit Button ---
  .btn-submit {
    width: 100%;
    background-color: #e22a1f;
    color: #f8fafc; // Neutral / Gray 50
    border: none;
    border-radius: rem(8);
    padding: rem(12) rem(18);
    font-family: $font-open-sans;
    font-size: rem(14);
    font-weight: 600;
    line-height: 1.5;
    text-align: center;
    cursor: pointer;
    transition: background-color 0.2s ease-in-out;
  
    &:hover {
      background-color: darken(#e22a1f, 10%);
    }
  
    &:active {
      background-color: darken(#e22a1f, 15%);
    }
  
    &:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(226, 42, 31, 0.2);
    }
  }