// Prices Page Styles
// BEM naming convention


// Color Variables (make sure these are defined)
$primary: #027FF7;
$dark: #2E333C;
$gray-50: #F8FAFC;
$gray-100: #F1F2F5;
$gray-600: #808080;
$search-bg: #F5F5F5;
$white: #FFFFFF;
$font-family-base: 'Open Sans', sans-serif;
$font-family-heading: 'Montserrat', sans-serif;
$background-light: #F1F2F5;

.prices-block-wrapper {
  padding: rem(64) rem(80);
  background-color: $background-light;
  
  @media (max-width: 991.98px) {
    padding: rem(40) rem(20);
  }
  
  @media (max-width: 575.98px) {
    padding: rem(16);
  }
}

.prices-block-inner {
  max-width: rem(1440);
  margin: 0 auto;
  display: flex;
  gap: rem(24);
  align-items: flex-start;
  
  @media (max-width: 991.98px) {
    flex-direction: column;
    gap: rem(16);
  }
}

// Sidebar Wrapper
.prices-sidebar-wrapper {
  width: rem(312);
  flex-shrink: 0;
  
  @media (max-width: 991.98px) {
    width: 100%;
  }
}

// Sidebar Styles
.prices-sidebar {
  background: $white;
  border-radius: rem(12);
  padding: rem(40) rem(24) rem(8);
  box-shadow: 0px rem(12.5216) rem(10.0172) rgba(0, 0, 0, 0.035), 
              0px rem(6.6501) rem(5.32008) rgba(0, 0, 0, 0.0282725), 
              0px rem(2.76726) rem(2.21381) rgba(0, 0, 0, 0.0196802);
  position: sticky;
  top: rem(100);
  max-height: calc(100vh - #{rem(120)});
  overflow-y: auto;
  
  @media (max-width: 991.98px) {
    position: static;
    max-height: none;
    padding: rem(24) rem(16);
  }
  
  &__title {
    display: none;
  }
  
  &__search {
    margin-bottom: rem(16);
    position: relative;
    
    .icon-search {
      position: absolute;
      left: rem(16);
      top: 50%;
      transform: translateY(-50%);
      width: rem(24);
      height: rem(24);
      color: $dark;
      pointer-events: none;
      z-index: 1;
      
      &::before {
        content: "";
        display: block;
        width: rem(18);
        height: rem(18);
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%232E333C' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3ccircle cx='11' cy='11' r='8'%3e%3c/circle%3e%3cpath d='m21 21-4.35-4.35'%3e%3c/path%3e%3c/svg%3e");
        background-size: contain;
        background-repeat: no-repeat;
      }
    }
    
    input {
      width: 100%;
      border-radius: rem(4);
      border: none;
      background: $search-bg;
      padding: rem(8) rem(16) rem(8) rem(48);
      font-family: $font-family-base;
      font-size: rem(16);
      line-height: rem(24);
      color: $gray-600;
      height: rem(40);
      
      &::placeholder {
        color: $gray-600;
      }
      
      &:focus {
        background: $search-bg;
        border: none;
        box-shadow: none;
        outline: none;
      }
    }
  }
}

.prices-sidebar-accordion {
  display: flex;
  flex-direction: column;
  gap: rem(8);
  
  .accordion-item {
    border: none;
    background: transparent;
    margin-bottom: 0;
  }
  
  .accordion-header {
    .accordion-button {
      background: transparent;
      border: none;
      border-radius: rem(4);
      padding: rem(8) rem(16);
      font-family: $font-family-base;
      font-weight: 600;
      font-size: rem(16);
      line-height: 150%;
      color: $dark;
      box-shadow: none;
      min-height: rem(40);
      display: flex;
      justify-content: space-between;
      align-items: center;
      
      &:not(.collapsed) {
        background: $primary;
        color: $white;
        box-shadow: none;
        
        &::after {
          background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23ffffff'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
        }
      }
      
      &:focus {
        box-shadow: none;
        border: none;
      }
      
      &::after {
        width: rem(12);
        height: rem(12);
        background-size: rem(12);
        margin-left: auto;
        flex-shrink: 0;
      }
    }
  }
  
  .accordion-body {
    padding: 0;
  }
  
  .accordion-collapse {
    border: none;
  }
}

.sidebar-category__list {
  list-style: none;
  padding: 0;
  margin: 0;
  
  li {
    margin-bottom: 0;
  }
}

.sidebar-category__link {
  display: block;
  padding: rem(8) rem(8) rem(8) rem(40);
  color: $dark;
  text-decoration: none;
  border-radius: 0;
  transition: all 0.2s ease;
  font-family: $font-family-base;
  font-size: rem(16);
  line-height: 150%;
  font-weight: 400;
  min-height: rem(40);
  
  &:hover {
    background-color: transparent;
    color: $primary;
    text-decoration: underline;
  }
  
  &.active {
    background-color: transparent;
    color: $primary;
    font-weight: 400;
    text-decoration: underline;
  }
}

// Content Wrapper
.prices-content-wrapper {
  flex: 1;
  min-width: 0;
  
  @media (max-width: 991.98px) {
    width: 100%;
  }
}

// Main Content Styles
.prices-content {
  background: $white;
  border-radius: rem(8);
  padding: rem(24);
  box-shadow: 0px rem(12.5216) rem(10.0172) rgba(0, 0, 0, 0.035), 
              0px rem(6.6501) rem(5.32008) rgba(0, 0, 0, 0.0282725), 
              0px rem(2.76726) rem(2.21381) rgba(0, 0, 0, 0.0196802);
  
  @media (max-width: 575.98px) {
    padding: rem(24) 0;
  }
}

.price-location-title {
  font-size: rem(20);
  font-weight: 600;
  color: $gray-600;
  margin-bottom: rem(24);
  padding-bottom: rem(12);
  border-bottom: rem(2) solid $gray-100;
}

.price-category-section {
  margin-bottom: rem(40);
  
  &:last-child {
    margin-bottom: 0;
  }
  
  &__title {
    font-family: $font-family-heading;
    font-size: rem(21);
    font-weight: 700;
    line-height: 150%;
    color: $dark;
    margin-bottom: rem(16);
    padding: rem(8);
  }
}

.price-subcategory {
  margin-bottom: rem(32);
  
  &:last-child {
    margin-bottom: 0;
  }
  
  &__title {
    font-family: $font-family-heading;
    font-size: rem(21);
    font-weight: 700;
    line-height: 150%;
    color: $dark;
    margin-bottom: rem(16);
    padding: rem(8);
  }
}

.price-items-direct {
  .price-item {
    padding: rem(12) rem(8) rem(12) rem(16);
    
    &:last-child {
      border-bottom: none;
    }
  }
}

.prices-accordion {
  .accordion-item {
    border: none;
    border-radius: 0;
    margin-bottom: 0;
    overflow: visible;
    background: transparent;
  }
  
  .accordion-header {
    .accordion-button {
      background: transparent;
      color: $dark;
      font-family: $font-family-base;
      font-weight: 600;
      font-size: rem(16);
      line-height: 150%;
      padding: rem(24) rem(8) rem(24) rem(16);
      border: none;
      box-shadow: none;
      min-height: rem(72);
      
      &:not(.collapsed) {
        background: transparent;
        color: $dark;
        box-shadow: none;
        
        &::after {
          transform: rotate(-180deg);
        }
      }
      
      &:focus {
        box-shadow: none;
        border-color: transparent;
      }
      
      &::after {
        width: rem(16);
        height: rem(16);
        background-size: rem(16);
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='none' stroke='%23E22A1F' stroke-width='2'%3e%3cpolyline points='4 6 8 10 12 6'%3e%3c/polyline%3e%3c/svg%3e");
      }
    }
  }
  
  .accordion-body {
    padding: 0;
    
    // Items within service groups (accordion bodies) get indentation and borders
    .price-item {
      margin-left: rem(48);
      border-bottom: rem(1) solid $gray-100;
      
      &:last-child {
        border-bottom: rem(1) solid $gray-100;
      }
    }
  }
  
  .accordion-collapse {
    border: none;
  }
}

// Price Item Styles
.price-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: rem(12) rem(8) rem(12) rem(16);
  border-bottom: rem(1) solid $gray-100;
  transition: background-color 0.2s ease;
  min-height: rem(80);
  
  &:last-child {
    border-bottom: none;
  }
  
  &:hover {
    background-color: transparent;
  }
  
  &__info {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: rem(8);
    margin-right: rem(16);
  }
  
  &__name {
    margin: 0;
    font-family: $font-family-base;
    font-weight: 600;
    color: $dark;
    font-size: rem(16);
    line-height: 150%;
  }
  
  &__price {
    margin: 0;
    font-family: $font-family-base;
    font-weight: 700;
    color: $primary;
    font-size: rem(16);
    line-height: 150%;
  }
  
  &__actions {
    display: flex;
    gap: rem(16);
    flex-shrink: 0;
    align-items: center;
    
    .btn,
    a {
      padding: rem(12) rem(18);
      font-family: $font-family-base;
      font-size: rem(14);
      line-height: rem(24);
      border-radius: rem(8);
      font-weight: 700;
      white-space: nowrap;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: rem(6);
      text-decoration: none;
      transition: all 0.2s ease;
      height: rem(34);
      
      .icon {
        font-size: rem(14.4);
        opacity: 0.8;
        flex-shrink: 0;
      }
    }
    
    .btn-primary,
    a[href^="tel"] {
      background-color: $primary;
      border: rem(1) solid $primary;
      color: $gray-50;
      
      &:hover {
        background-color: darken($primary, 8%);
        border-color: darken($primary, 8%);
        color: $gray-50;
      }
    }
    
    .btn-outline-primary,
    a:not([href^="tel"]) {
      border: rem(2) solid $primary;
      color: $primary;
      background: transparent;
      font-weight: 600;
      
      &:hover {
        background-color: $primary;
        color: $white;
        border-color: $primary;
      }
    }
  }
}

// Responsive Styles
@media (max-width: 991.98px) {
  .price-item {
    flex-direction: column;
    align-items: flex-start;
    gap: rem(8);
    padding: rem(8) rem(8) rem(8) 0;
    min-height: rem(48);
    
    &__info {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      margin-right: 0;
      gap: rem(16);
    }
    
    &__name,
    &__price {
      margin: 0;
    }
    
    &__actions {
      width: 100%;
      gap: rem(6.4);
      
      .btn,
      a {
        padding: rem(9.6) rem(12.8);
        gap: rem(4.8);
        min-width: rem(32);
        width: rem(32);
        height: rem(32);
        border-radius: rem(6.4);
        
        // Icon-only buttons on mobile - hide text
        span:not(.icon) {
          display: none;
        }
        
        // Show only icons on mobile
        .icon {
          margin: 0;
          font-size: rem(19.2);
        }
      }
      
      .btn-primary,
      a[href^="tel"] {
        border: rem(0.8) solid $primary;
      }
      
      .btn-outline-primary,
      a:not([href^="tel"]) {
        border: rem(1.2) solid $primary;
        flex-grow: 1;
      }
    }
  }
  
  .prices-accordion .accordion-body .price-item {
    padding-left: rem(16);
  }
  
  .price-subcategory__title,
  .price-category-section__title {
    padding: rem(8) rem(8) rem(8) rem(24);
  }
}

@media (max-width: 575.98px) {
  // Keep name and price side by side on mobile
  .price-item {
    &__info {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }
  }
}